<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iron Lady - AI Leadership Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* All your CSS styles remain the same */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
        }
        
        .container {
            width: 100%;
            max-width: 1000px;
            background-color: white;
            border-radius: 16px;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 95vh;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            z-index: 10;
        }
        
        .header {
            background: linear-gradient(135deg, #1a2a6c 0%, #2c3e99 50%, #1a2a6c 100%);
            color: white;
            padding: 22px 30px;
            text-align: center;
            position: relative;
            display: flex;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .logo {
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 18px;
            font-size: 28px;
            color: #1a2a6c;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .logo:hover {
            transform: rotate(15deg) scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }
        
        .header-content h1 {
            font-size: 28px;
            margin-bottom: 6px;
            font-weight: 700;
            letter-spacing: 0.5px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        }
        
        .header-content p {
            font-size: 15px;
            opacity: 0.9;
            font-weight: 300;
            letter-spacing: 0.3px;
        }
        
        .ai-badge {
            position: absolute;
            top: 18px;
            right: 25px;
            background: rgba(255, 255, 255, 0.15);
            padding: 6px 14px;
            border-radius: 18px;
            font-size: 13px;
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
        }
        
        .ai-badge:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }
        
        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
            background: linear-gradient(to bottom, #fafbff 0%, #f5f7ff 100%);
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .chat-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(to right, transparent, rgba(26, 42, 108, 0.2), transparent);
        }
        
        .message {
            margin-bottom: 24px;
            display: flex;
            max-width: 80%;
            animation: fadeIn 0.4s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .bot-message {
            align-self: flex-start;
        }
        
        .user-message {
            align-self: flex-end;
        }
        
        .message-content {
            padding: 18px 24px;
            border-radius: 20px;
            line-height: 1.5;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
            position: relative;
            transition: transform 0.2s ease;
        }
        
        .message-content:hover {
            transform: translateY(-2px);
        }
        
        .bot-message .message-content {
            background: linear-gradient(135deg, #ffffff 0%, #f0f4ff 100%);
            border-top-left-radius: 6px;
            color: #1a2a6c;
            border: 1px solid rgba(26, 42, 108, 0.1);
        }
        
        .user-message .message-content {
            background: linear-gradient(135deg, #1a2a6c 0%, #2c3e99 100%);
            color: white;
            border-top-right-radius: 6px;
            box-shadow: 0 6px 16px rgba(26, 42, 108, 0.2);
        }
        
        .message-icon {
            width: 46px;
            height: 46px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 14px;
            flex-shrink: 0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
        }
        
        .message-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 14px rgba(0, 0, 0, 0.2);
        }
        
        .bot-icon {
            background: linear-gradient(135deg, #1a2a6c 0%, #2c3e99 100%);
            color: white;
        }
        
        .user-icon {
            background: linear-gradient(135deg, #b21f1f 0%, #fd5e53 100%);
            color: white;
        }
        
        .input-container {
            display: flex;
            padding: 22px 30px;
            background-color: white;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
            position: relative;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.03);
        }
        
        #user-input {
            flex: 1;
            padding: 18px 24px;
            border: 2px solid #e2e8f0;
            border-radius: 30px;
            outline: none;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #f8fafc;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.04);
        }
        
        #user-input:focus {
            border-color: #1a2a6c;
            background: white;
            box-shadow: 0 0 0 3px rgba(26, 42, 108, 0.15), inset 0 2px 4px rgba(0, 0, 0, 0.04);
        }
        
        #send-button {
            background: linear-gradient(135deg, #1a2a6c 0%, #2c3e99 100%);
            color: white;
            border: none;
            border-radius: 30px;
            padding: 18px 28px;
            margin-left: 14px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 12px rgba(26, 42, 108, 0.25);
        }
        
        #send-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(26, 42, 108, 0.35);
        }
        
        #send-button:active {
            transform: translateY(0);
        }
        
        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            padding: 20px 30px;
            background-color: white;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
            gap: 12px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.03);
        }
        
        .quick-reply {
            background: linear-gradient(135deg, #f8fafc 0%, #edf2f7 100%);
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            padding: 12px 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            color: #2d3748;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
        }
        
        .quick-reply:hover {
            background: linear-gradient(135deg, #e6e9ff 0%, #d0d6ff 100%);
            transform: translateY(-3px);
            box-shadow: 0 6px 14px rgba(26, 42, 108, 0.15);
            border-color: #c3d0ff;
            color: #1a2a6c;
        }
        
        .typing-indicator {
            display: none;
            padding: 18px 24px;
            color: #4a5568;
            font-style: italic;
            align-items: center;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            margin: 0 14px 20px 14px;
            align-self: flex-start;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .typing-animation {
            display: flex;
            margin-left: 12px;
        }
        
        .typing-dot {
            width: 9px;
            height: 9px;
            background-color: #1a2a6c;
            border-radius: 50%;
            margin: 0 4px;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typingAnimation {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }
        
        .timestamp {
            font-size: 12px;
            color: #718096;
            margin-top: 10px;
            text-align: right;
            font-weight: 400;
        }
        
        .suggestion-title {
            font-size: 14px;
            color: #4a5568;
            margin-bottom: 12px;
            padding-left: 12px;
            font-weight: 600;
            width: 100%;
        }
        
        .api-key-container {
            padding: 16px 30px;
            background-color: #f8fafc;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
            display: flex;
            align-items: center;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.03);
        }
        
        #api-key-input {
            flex: 1;
            padding: 14px 18px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.04);
            transition: all 0.3s ease;
        }
        
        #api-key-input:focus {
            border-color: #1a2a6c;
            box-shadow: 0 0 0 3px rgba(26, 42, 108, 0.15), inset 0 2px 4px rgba(0, 0, 0, 0.04);
        }
        
        #save-api-key {
            margin-left: 12px;
            padding: 14px 20px;
            background: linear-gradient(135deg, #1a2a6c 0%, #2c3e99 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(26, 42, 108, 0.2);
        }
        
        #save-api-key:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(26, 42, 108, 0.3);
        }
        
        @media (max-width: 768px) {
            .container {
                height: 95vh;
                width: 95%;
            }
            
            .message {
                max-width: 90%;
            }
            
            .header-content h1 {
                font-size: 22px;
            }
            
            .quick-replies {
                padding: 16px;
            }
            
            .quick-reply {
                padding: 10px 16px;
                font-size: 13px;
            }
            
            .api-key-container {
                flex-direction: column;
                gap: 12px;
            }
            
            #save-api-key {
                margin-left: 0;
                width: 100%;
            }
            
            .header {
                padding: 18px 20px;
            }
            
            .input-container {
                padding: 18px 20px;
            }
        }
        
        .welcome-message {
            text-align: center;
            margin: 18px 0;
            padding: 20px;
            background: linear-gradient(135deg, #ffffff 0%, #f7f9ff 100%);
            border-radius: 16px;
            color: #1a2a6c;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(26, 42, 108, 0.1);
        }
        
        .welcome-message h2 {
            margin-bottom: 12px;
            font-weight: 600;
        }
        
        .welcome-message p {
            color: #4a5568;
            font-size: 15px;
        }
        
        .info-list {
            padding-left: 22px;
            margin: 12px 0;
        }
        
        .info-list li {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 26px;
            height: 26px;
            background: #1a2a6c;
            color: white;
            border-radius: 50%;
            text-align: center;
            margin-right: 10px;
            font-weight: 600;
            font-size: 14px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
        }
        
        .contact-info {
            background: linear-gradient(135deg, #f8fafc 0%, #edf2f7 100%);
            border-left: 4px solid #1a2a6c;
            padding: 20px;
            border-radius: 12px;
            margin: 14px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
        }
        
        .highlight {
            background: linear-gradient(90deg, #fdbb2d 0%, #f9d423 100%);
            padding: 3px 8px;
            border-radius: 6px;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        /* Scrollbar styling */
        .chat-container::-webkit-scrollbar {
            width: 8px;
        }
        
        .chat-container::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.03);
            border-radius: 4px;
        }
        
        .chat-container::-webkit-scrollbar-thumb {
            background: rgba(26, 42, 108, 0.2);
            border-radius: 4px;
        }
        
        .chat-container::-webkit-scrollbar-thumb:hover {
            background: rgba(26, 42, 108, 0.4);
        }
        
        /* Message hover effects */
        .message-content::after {
            content: "";
            position: absolute;
            bottom: -5px;
            width: 20px;
            height: 20px;
            background: inherit;
            transform: rotate(45deg);
            z-index: -1;
        }
        
        .bot-message .message-content::after {
            left: -5px;
            clip-path: polygon(0 0, 0% 100%, 100% 0);
        }
        
        .user-message .message-content::after {
            right: -5px;
            clip-path: polygon(100% 0, 0 0, 100% 100%);
        }
        
        /* Decorative elements */
        .decorative-corner {
            position: absolute;
            width: 180px;
            height: 180px;
            opacity: 0.03;
            pointer-events: none;
        }
        
        .corner-1 {
            top: 0;
            right: 0;
            background: radial-gradient(circle, #1a2a6c 0%, transparent 70%);
            border-radius: 0 0 0 100%;
        }
        
        .corner-2 {
            bottom: 0;
            left: 0;
            background: radial-gradient(circle, #b21f1f 0%, transparent 70%);
            border-radius: 0 100% 0 0;
        }
        
        /* Watermark styling */
        .watermark {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 16px;
            border-radius: 20px;
            font-size: 14px;
            color: #4a5568;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        .watermark:hover {
            background: rgba(255, 255, 255, 0.95);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }
        
        .watermark i {
            color: #1a2a6c;
        }
        
        .watermark-text {
            font-weight: 500;
        }
        
        .watermark-name {
            font-weight: 600;
            color: #1a2a6c;
        }
        
        @media (max-width: 768px) {
            .watermark {
                bottom: 15px;
                right: 15px;
                font-size: 12px;
                padding: 8px 12px;
            }
        }
    </style>
</head>
<body>
    <!-- Watermark -->
    <div class="watermark">
        <i class="fas fa-code"></i>
        <span class="watermark-text">Made by</span>
        <span class="watermark-name">Anubhav Sarkar</span>
    </div>
    
    <div class="container">
        <div class="header">
            <div class="logo">
                <i class="fas fa-crown"></i>
            </div>
            <div class="header-content">
                <h1>Iron Lady Leadership Programs</h1>
                <p>AI-powered assistant for program information</p>
            </div>
            <div class="ai-badge">
                <i class="fas fa-robot"></i> AI Assistant
            </div>
        </div>
        
        <div class="chat-container" id="chat-container">
            <div class="decorative-corner corner-1"></div>
            <div class="decorative-corner corner-2"></div>
            
            <div class="welcome-message">
                <h2>Welcome to Iron Lady Leadership Chat</h2>
                <p>Ask me about our programs, duration, format, certificates, or mentors</p>
            </div>
            
            <div class="message bot-message">
                <div class="message-icon bot-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-content">
                    <p>Hello! I'm your AI assistant for Iron Lady Leadership Programs. How can I help you today?</p>
                    <div class="timestamp">Just now</div>
                </div>
            </div>
        </div>
        
        <div class="typing-indicator" id="typing-indicator">
            <span>Iron Lady is thinking</span>
            <div class="typing-animation">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>
        
        <div class="quick-replies">
            <div class="suggestion-title">Quick questions:</div>
            <button class="quick-reply" data-question="How do I get started?">
                <i class="fas fa-play-circle"></i> Get Started
            </button>
            <button class="quick-reply" data-question="What is the application process?">
                <i class="fas fa-clipboard-list"></i> Application Process
            </button>
            <button class="quick-reply" data-question="How can I contact Iron Lady?">
                <i class="fas fa-phone-alt"></i> Contact Details
            </button>
            <button class="quick-reply" data-question="What leadership programs does Iron Lady offer?">
                <i class="fas fa-graduation-cap"></i> Programs
            </button>
            <button class="quick-reply" data-question="Who are the mentors?">
                <i class="fas fa-users"></i> Mentors
            </button>
        </div>
        
        <div class="api-key-container">
            <input type="password" id="api-key-input" placeholder="Enter your OpenAI API key to enable advanced AI features">
            <button id="save-api-key">Save Key</button>
        </div>
        
        <div class="input-container">
            <input type="text" id="user-input" placeholder="Type your question about Iron Lady programs...">
            <button id="send-button">
                <i class="fas fa-paper-plane"></i> Send
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const chatContainer = document.getElementById('chat-container');
            const userInput = document.getElementById('user-input');
            const sendButton = document.getElementById('send-button');
            const typingIndicator = document.getElementById('typing-indicator');
            const quickReplies = document.querySelectorAll('.quick-reply');
            const apiKeyInput = document.getElementById('api-key-input');
            const saveApiKeyButton = document.getElementById('save-api-key');
            
            let apiKey = localStorage.getItem('ironLadyApiKey') || '';
            let useAIApi = false;
            
            if (apiKey) {
                apiKeyInput.value = '••••••••••••••••';
                useAIApi = true;
                addMessage("AI features enabled. I'm now powered by advanced AI to better assist you!", false);
            }
            
            // Enhanced Iron Lady program knowledge base
            const knowledgeBase = {
                // Programs information
                programs: "Iron Lady offers three main leadership programs: 1) Women in Leadership (for emerging female leaders), 2) Executive Leadership Mastery (for senior leaders), and 3) Transformational Leadership (focused on change management). We also offer specialized workshops on communication, negotiation, and strategic thinking.",
                
                // Program details
                duration: "Program durations vary: Women in Leadership is 8 weeks, Executive Leadership Mastery runs for 12 weeks, and Transformational Leadership is a 10-week program. Workshops are typically 1-2 day intensive sessions.",
                format: "We offer flexible learning options! Our programs are available both online through live virtual sessions and in-person at our centers in major cities. Hybrid options are also available for some programs.",
                certificates: "Yes, all our programs provide recognized certificates upon successful completion. Our Executive Leadership Mastery program also includes a professional diploma that is industry-recognized.",
                mentors: "Our mentors are seasoned industry leaders with 15+ years of experience. They include Fortune 500 executives, renowned leadership coaches, authors of bestselling leadership books, and specialists in women's leadership development.",
                cost: "Program fees vary depending on the program and format. Women in Leadership starts at $1,200, Executive Leadership Mastery is $3,500, and Transformational Leadership is $2,500. We offer early-bird discounts and scholarship opportunities.",
                eligibility: "Each program has different eligibility criteria. Generally, Women in Leadership is for early to mid-career professionals, Executive Leadership Mastery requires 10+ years of experience, and Transformational Leadership is for managers and directors leading organizational change.",
                
                // Getting started information
                started: "Getting started with Iron Lady is simple! Here's how:\n\n1. Explore our programs to find the right fit for your goals\n2. Check the eligibility requirements for your chosen program\n3. Complete the online application form\n4. Attend a brief consultation call with our program advisor\n5. Submit any required documentation\n6. Receive acceptance and complete enrollment\n\nWould you like more details about any specific program?",
                
                // Application process
                process: "Our application process is designed to be straightforward:\n\n1. <span class='step-number'>1</span> <strong>Program Selection:</strong> Choose the program that aligns with your goals\n2. <span class='step-number'>2</span> <strong>Application Form:</strong> Complete our online application (takes about 20 minutes)\n3. <span class='step-number'>3</span> <strong>Documentation:</strong> Submit your resume/CV and any supporting materials\n4. <span class='step-number'>4</span> <strong>Consultation:</strong> Schedule a 30-minute video call with our advisor\n5. <span class='step-number'>5</span> <strong>Review:</strong> Our committee reviews your application (3-5 business days)\n6. <span class='step-number'>6</span> <strong>Admission Decision:</strong> You'll receive an email with the outcome\n7. <span class='step-number'>7</span> <strong>Enrollment:</strong> Complete payment and registration if accepted\n\nWe're here to help at every step!",
                
                // Contact information
                contact: "<div class='contact-info'><strong>Contact Iron Lady Leadership Programs:</strong><br><br>" +
                         "📞 <strong>Phone:</strong> +1 (555) 123-4567<br>" +
                         "✉️ <strong>Email:</strong> info@ironladyprograms.com<br>" +
                         "🌐 <strong>Website:</strong> www.ironladyprograms.com<br>" +
                         "📍 <strong>Address:</strong> 123 Leadership Avenue, Suite 400, New York, NY 10001<br><br>" +
                         
                         "<strong>Office Hours:</strong><br>" +
                         "Monday-Friday: 9:00 AM - 6:00 PM EST<br>" +
                         "Saturday: 10:00 AM - 2:00 PM EST<br>" +
                         "Sunday: Closed<br><br>" +
                         
                         "For specific program inquiries, you can also contact:<br>" +
                         "📧 <strong>Admissions:</strong> admissions@ironladyprograms.com<br>" +
                         "📧 <strong>Support:</strong> support@ironladyprograms.com</div>",
                
                // Payment options
                payment: "We offer several payment options for your convenience:\n\n" +
                         "• <strong>Full Payment:</strong> Pay the entire fee upfront and receive a 5% discount\n" +
                         "• <strong>Installment Plan:</strong> Pay 50% at registration and the remainder midway through the program\n" +
                         "• <strong>Corporate Sponsorship:</strong> Many participants have their employers cover the program costs\n" +
                         "• <strong>Scholarships:</strong> We offer limited need-based and merit-based scholarships\n\n" +
                         "All major credit cards, bank transfers, and company invoices are accepted.",
                
                // Curriculum information
                curriculum: "Our curriculum is designed to be practical and transformative:\n\n" +
                            "<strong>Core Components:</strong>\n" +
                            "• Leadership theory and practical application\n" +
                            "• Personalized coaching sessions\n" +
                            "• Peer learning groups\n" +
                            "• Real-world case studies\n" +
                            "• Networking events with industry leaders\n\n" +
                            
                            "<strong>Sample Topics Covered:</strong>\n" +
                            "• Strategic decision-making\n" +
                            "• Effective communication for leaders\n" +
                            "• Building and leading high-performance teams\n" +
                            "• Negotiation and conflict resolution\n" +
                            "• Personal leadership brand development\n" +
                            "• Change management and innovation",
                
                // Outcomes
                outcomes: "Our participants achieve remarkable outcomes:\n\n" +
                          "• <span class='highlight'>93%</span> report increased confidence in leadership capabilities\n" +
                          "• <span class='highlight'>87%</span> receive promotions or expanded responsibilities within 12 months\n" +
                          "• <span class='highlight'>95%</span> would recommend our programs to colleagues\n" +
                          "• <span class='highlight'>100%</span> complete the program with an actionable leadership development plan\n\n" +
                          "You'll also join our alumni network of 5,000+ leaders worldwide!",
                
                // Default responses
                greeting: "Hello! I'm here to help you learn about Iron Lady's leadership programs. What would you like to know?",
                default: "I'm not sure I understand. Could you please rephrase your question? You can ask about our programs, application process, getting started, contact information, curriculum, payment options, or program outcomes."
            };
            
            // Function to add a message to the chat
            function addMessage(content, isUser) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message');
                messageDiv.classList.add(isUser ? 'user-message' : 'bot-message');
                
                const iconDiv = document.createElement('div');
                iconDiv.classList.add('message-icon');
                iconDiv.classList.add(isUser ? 'user-icon' : 'bot-icon');
                
                const icon = document.createElement('i');
                icon.classList.add('fas');
                icon.classList.add(isUser ? 'fa-user' : 'fa-robot');
                iconDiv.appendChild(icon);
                
                const messageContent = document.createElement('div');
                messageContent.classList.add('message-content');
                
                // Use innerHTML to render HTML content like lists
                if (content.includes('<li>') || content.includes('<strong>') || content.includes('<span class="step-number')) {
                    messageContent.innerHTML = content;
                } else {
                    const messageParagraph = document.createElement('p');
                    messageParagraph.textContent = content;
                    messageContent.appendChild(messageParagraph);
                }
                
                const timestamp = document.createElement('div');
                timestamp.classList.add('timestamp');
                timestamp.textContent = getCurrentTime();
                
                messageContent.appendChild(timestamp);
                
                messageDiv.appendChild(iconDiv);
                messageDiv.appendChild(messageContent);
                
                chatContainer.appendChild(messageDiv);
                
                // Scroll to the bottom of the chat container
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // Function to get current time for timestamp
            function getCurrentTime() {
                const now = new Date();
                return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
            }
            
            // Function to show typing indicator
            function showTypingIndicator() {
                typingIndicator.style.display = 'flex';
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // Function to hide typing indicator
            function hideTypingIndicator() {
                typingIndicator.style.display = 'none';
            }
            
            // Function to call OpenAI API
            async function callOpenAIAPI(input) {
                try {
                    const response = await fetch('https://api.openai.com/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            model: 'gpt-3.5-turbo',
                            messages: [
                                {
                                    role: 'system',
                                    content: 'You are a helpful assistant for Iron Lady Leadership Programs. Provide information about their leadership programs, duration, format, certificates, mentors, costs, and eligibility. Be professional, encouraging, and focused on women\'s leadership development. If asked about something unrelated to leadership development or Iron Lady programs, politely steer the conversation back to the programs.'
                                },
                                {
                                    role: 'user',
                                    content: input
                                }
                            ],
                            temperature: 0.7,
                            max_tokens: 500
                        })
                    });
                    
                    if (!response.ok) {
                        throw new Error(`API error: ${response.status}`);
                    }
                    
                    const data = await response.json();
                    return data.choices[0].message.content;
                } catch (error) {
                    console.error('Error calling OpenAI API:', error);
                    throw error;
                }
            }
            
            // Function to simulate AI thinking and response
            function simulateAIResponse(input) {
                return new Promise((resolve) => {
                    showTypingIndicator();
                    
                    // Simulate network delay and processing time
                    setTimeout(() => {
                        hideTypingIndicator();
                        
                        const lowerInput = input.toLowerCase();
                        let response = knowledgeBase.default;
                        
                        // Determine the best response based on input
                        if (lowerInput.includes('program') || lowerInput.includes('offer') || lowerInput.includes('provide')) {
                            response = knowledgeBase.programs;
                        } else if (lowerInput.includes('duration') || lowerInput.includes('long') || lowerInput.includes('week') || lowerInput.includes('month')) {
                            response = knowledgeBase.duration;
                        } else if (lowerInput.includes('online') || lowerInput.includes('offline') || lowerInput.includes('format') || lowerInput.includes('in-person') || lowerInput.includes('virtual')) {
                            response = knowledgeBase.format;
                        } else if (lowerInput.includes('certificate') || lowerInput.includes('diploma') || lowerInput.includes('credential')) {
                            response = knowledgeBase.certificates;
                        } else if (lowerInput.includes('mentor') || lowerInput.includes('coach') || lowerInput.includes('trainer') || lowerInput.includes('instructor')) {
                            response = knowledgeBase.mentors;
                        } else if (lowerInput.includes('cost') || lowerInput.includes('price') || lowerInput.includes('fee') || lowerInput.includes('pay')) {
                            response = knowledgeBase.payment;
                        } else if (lowerInput.includes('eligibility') || lowerInput.includes('qualify') || lowerInput.includes('require') || lowerInput.includes('criteria')) {
                            response = knowledgeBase.eligibility;
                        } else if (lowerInput.includes('start') || lowerInput.includes('begin') || lowerInput.includes('get started')) {
                            response = knowledgeBase.started;
                        } else if (lowerInput.includes('process') || lowerInput.includes('application') || lowerInput.includes('apply') || lowerInput.includes('procedure')) {
                            response = knowledgeBase.process;
                        } else if (lowerInput.includes('contact') || lowerInput.includes('email') || lowerInput.includes('phone') || lowerInput.includes('address')) {
                            response = knowledgeBase.contact;
                        } else if (lowerInput.includes('curriculum') || lowerInput.includes('teach') || lowerInput.includes('learn') || lowerInput.includes('topic')) {
                            response = knowledgeBase.curriculum;
                        } else if (lowerInput.includes('outcome') || lowerInput.includes('result') || lowerInput.includes('benefit') || lowerInput.includes('achieve')) {
                            response = knowledgeBase.outcomes;
                        } else if (lowerInput.includes('hello') || lowerInput.includes('hi') || lowerInput.includes('hey')) {
                            response = knowledgeBase.greeting;
                        }
                        
                        // Sometimes add a follow-up question to make it more conversational
                        if (Math.random() > 0.5 && !lowerInput.includes('hello') && !lowerInput.includes('hi')) {
                            const followUps = [
                                "\n\nIs there anything else you'd like to know about our programs?",
                                "\n\nWould you like information about any other aspect of our programs?",
                                "\n\nLet me know if you need details about any other program aspects!"
                            ];
                            response += followUps[Math.floor(Math.random() * followUps.length)];
                        }
                        
                        resolve(response);
                    }, 1500 + Math.random() * 1000); // Random delay between 1.5-2.5 seconds
                });
            }
            
            // Function to process user input and generate response
            async function processInput(input) {
                if (!input.trim()) return;
                
                addMessage(input, true);
                userInput.value = '';
                
                let response;
                
                if (useAIApi && apiKey) {
                    try {
                        showTypingIndicator();
                        response = await callOpenAIAPI(input);
                        hideTypingIndicator();
                    } catch (error) {
                        console.error('API Error:', error);
                        hideTypingIndicator();
                        response = "I'm having trouble connecting to the AI service. Let me answer that based on my local knowledge.\n\n";
                        response += await simulateAIResponse(input);
                    }
                } else {
                    response = await simulateAIResponse(input);
                }
                
                addMessage(response, false);
            }
            
            // Event listener for send button
            sendButton.addEventListener('click', function() {
                const message = userInput.value.trim();
                processInput(message);
            });
            
            // Event listener for Enter key in input field
            userInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    const message = userInput.value.trim();
                    processInput(message);
                }
            });
            
            // Event listeners for quick reply buttons
            quickReplies.forEach(button => {
                button.addEventListener('click', function() {
                    const question = this.getAttribute('data-question');
                    processInput(question);
                });
            });
            
            // Event listener for saving API key
            saveApiKeyButton.addEventListener('click', function() {
                const key = apiKeyInput.value.trim();
                
                if (key && key !== '••••••••••••••••') {
                    apiKey = key;
                    localStorage.setItem('ironLadyApiKey', key);
                    apiKeyInput.value = '••••••••••••••••';
                    useAIApi = true;
                    
                    addMessage("API key saved successfully! AI features are now enabled.", false);
                } else if (key === '••••••••••••••••' && apiKey) {
                    // Already has a key saved
                    addMessage("AI features are already enabled with your saved API key.", false);
                } else {
                    addMessage("Please enter a valid API key to enable AI features.", false);
                }
            });
            
            // Focus on input field when page loads
            userInput.focus();
            
            // Add welcome message after a short delay
            setTimeout(() => {
                addMessage("Hi there! I can help you learn about Iron Lady's leadership development programs, application process, and more. What would you like to know?", false);
            }, 800);
        });
    </script>
</body>
</html>
